(this.webpackJsonpprojfrontend=this.webpackJsonpprojfrontend||[]).push([[0],{123:function(e,t,s){},279:function(e,t,s){"use strict";s.r(t);var c=s(2),n=s(47),a=s.n(n),i=s(7),r=s(6),o=s(5),l=(s(123),s(3)),j=s(13),d=s(117),u=function(e){if(void 0!==typeof window)return localStorage.removeItem("jwt"),e(),fetch("/api/signout",{method:"GET"}).then((function(e){return console.log("Signout Successfull",e)})).catch((function(e){return console.log("signout failed!!",e)}))},b=function(){return void 0!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))},h=(s(178),s.p+"static/media/logohome.f46f0264.png"),O=s(1),p=function(){var e=Object(r.g)();return Object(O.jsx)("div",{className:"header",children:Object(O.jsx)("div",{className:"nav-helper",children:Object(O.jsxs)("div",{className:"nav-container",children:[Object(O.jsxs)("div",{onClick:function(){return e("/")},style:{cursor:"pointer"},className:"nav-wrapper",children:[Object(O.jsx)("div",{className:"imghome-div",children:Object(O.jsx)("img",{alt:"logo",src:h})}),Object(O.jsx)("h1",{children:"Clarify"})]}),Object(O.jsx)("ul",{className:"nav-list",children:b()?Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.b,{className:"nav-link",to:"/user/profile",children:Object(O.jsx)(d.a,{className:"nav-icon"})})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)("span",{style:{cursor:"pointer"},className:"nav-link",onClick:function(){u((function(){Object(o.b)("Signout Successful!!",{type:"success"}),e("/")}))},children:"SignOut"})})]}):Object(O.jsxs)(c.Fragment,{children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{className:"nav-link",style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},to:"/",children:"Home"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{className:"nav-link",style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},to:"/signup",children:"SignUp"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.c,{className:"nav-link",style:function(e){return e.isActive?{color:"gray"}:{color:"white"}},to:"/signin",children:"Login"})})]})})]})})})},m=s.p+"static/media/logo.25665820.png",x=s(12);function f(){var e=Object(r.g)();return Object(O.jsx)("div",{className:"footer",children:Object(O.jsxs)("div",{className:"footer-section",children:[Object(O.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(O.jsx)("div",{style:{width:"50px"},children:Object(O.jsx)("img",{src:m,alt:"logo"})}),Object(O.jsx)("h3",{style:{marginLeft:"10px",marginTop:"0px",marginBottom:"0px"},onClick:function(){return e("/")},children:"Clarify"})]}),Object(O.jsxs)("ul",{className:"nav-list",children:[Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.b,{className:"nav-link-footer",to:"/",children:"Home"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.b,{className:"nav-link-footer",to:"/about",children:"About"})}),Object(O.jsx)("li",{className:"nav-item",children:Object(O.jsx)(i.b,{className:"nav-link-footer",to:"/questions",children:"Questions"})})]}),Object(O.jsxs)("div",{className:"follow-links",children:[Object(O.jsx)("p",{children:"Follow me on"}),Object(O.jsxs)("div",{className:"quick-link",children:[Object(O.jsx)("a",{rel:"noreferrer",href:"https://github.com/srinivasteja18",target:"_blank",style:{color:"white"},children:Object(O.jsx)(x.c,{className:"footer-link"})}),Object(O.jsx)("a",{rel:"noreferrer",href:"https://www.linkedin.com/in/moparthi-srinivas-teja/",target:"_blank",style:{color:"white"},children:Object(O.jsx)(x.e,{className:"footer-link"})})]})]})]})})}function v(){var e=Object(r.g)();return Object(O.jsx)("div",{className:"side-bar",children:Object(O.jsxs)("ul",{className:"side-bar-list",children:[Object(O.jsx)("li",{className:"side-bar-item",children:Object(O.jsx)(i.c,{className:function(e){return e.isActive?"side-bar-active":"side-bar-link"},to:"/",children:"Home"})}),Object(O.jsx)("li",{className:"side-bar-item",children:Object(O.jsx)(i.c,{className:function(e){return e.isActive?"side-bar-active":"side-bar-link"},to:"/users",children:"Users"})}),Object(O.jsx)("li",{className:"side-bar-item",children:Object(O.jsx)(i.c,{className:function(e){return e.isActive?"side-bar-active":"side-bar-link"},to:"/questions",children:"All Questions"})}),Object(O.jsx)("li",{className:"side-bar-item",children:Object(O.jsx)(i.c,{className:function(e){return e.isActive?"side-bar-active":"side-bar-link"},to:"/about",children:"About"})}),b()&&Object(O.jsx)("li",{className:"side-bar-item",children:Object(O.jsx)("span",{style:{cursor:"pointer"},className:"side-bar-link",onClick:function(){u((function(){Object(o.b)("Signout Successful!!",{type:"success"}),e("/")}))},children:"SignOut"})})]})})}function g(e){e.title;var t=e.children;return Object(O.jsxs)("div",{className:"whole-container",children:[Object(O.jsx)(p,{}),Object(O.jsxs)("div",{className:"middle-section",children:[Object(O.jsx)(v,{}),Object(O.jsx)("div",{className:"main-bar",children:t})]}),Object(O.jsx)(f,{})]})}var N=function(){return fetch("/api/questions",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},y=function(e,t,s){return fetch("/api/users/unfollow/".concat(e,"/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},w=function(e,t,s){return fetch("/api/questions/answer/upvote/".concat(e,"/").concat(s._id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},C=function(e,t,s){return fetch("/api/questions/answer/downvote/".concat(e,"/").concat(s._id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},S=function(e,t,s){return fetch("/api/question/upvote/".concat(e,"/").concat(s._id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},q=function(e,t,s){return fetch("/api/question/downvote/".concat(e,"/").concat(s._id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))};function k(){var e=Object(r.g)(),t=Object(c.useState)([]),s=Object(l.a)(t,2),n=s[0],a=s[1],o=Object(c.useState)([]),d=Object(l.a)(o,2),u=d[0],b=d[1],h=Object(c.useState)(!1),p=Object(l.a)(h,2),m=p[0],x=p[1];Object(c.useEffect)((function(){x(!0),N().then((function(e){e.error?console.log("Error in fetching questions",e.error):(a(e),b(e),x(!1))}))}),[]);var f=function(e){var t=e.target.value;console.log(t);var s=n.filter((function(e){return e.text.toLowerCase().includes(t)}));b(s)};return Object(O.jsx)(g,{children:Object(O.jsx)("div",{className:"main-page-container",children:Object(O.jsxs)("div",{className:"content-container",children:[Object(O.jsxs)("div",{className:"content-header",children:[Object(O.jsx)("h2",{children:"Top Questions"}),Object(O.jsx)(i.b,{className:"ask-button",to:"/user/askQuestion",children:"Ask Question"})]}),Object(O.jsx)("div",{className:"search-div",children:Object(O.jsx)("form",{className:"search-form",children:Object(O.jsx)("label",{className:"search-label",children:Object(O.jsx)("input",{placeholder:"Search Question",onChange:f,className:"search-input",type:"text"})})})}),Object(O.jsx)("div",{className:"questions-container",children:m?Object(O.jsx)("div",{className:"loading-div",children:Object(O.jsx)(j.Circle,{color:"white",size:100})}):u.length?u.map((function(t,s){return Object(O.jsxs)("div",{onClick:function(){e("/questions/question",{state:t})},className:"question-card",children:[Object(O.jsxs)("div",{className:"question-status-div",children:[Object(O.jsxs)("div",{className:"question-status",children:[Object(O.jsx)("p",{className:"question-status-number",children:t.upvotes}),Object(O.jsx)("p",{children:"Upvotes"})]}),Object(O.jsxs)("div",{className:"question-status",children:[Object(O.jsx)("p",{className:"question-status-number",children:t.replies.length}),Object(O.jsx)("p",{children:"Answers"})]})]}),Object(O.jsxs)("div",{className:"question-summary",children:[Object(O.jsx)("h2",{children:t.text}),Object(O.jsxs)("p",{className:"question-asked",children:["asked by ",t.user.name]})]})]},s)})):Object(O.jsx)("div",{children:"No Questions Found!!"})})]})})})}var A=s(32),_=s(8),T=s(25),E=function(){var e=Object(r.g)(),t=Object(c.useState)({email:"",password:"",error:"",loading:!1,didRedirect:""}),s=Object(l.a)(t,2),n=s[0],a=s[1],d=n.email,u=n.password,h=n.didRedirect,p=function(e){return function(t){a(Object(_.a)(Object(_.a)({},n),{},Object(A.a)({error:!1},e,t.target.value)))}},f=function(e){var t;e.preventDefault(),a(Object(_.a)(Object(_.a)({},n),{},{error:!1,loading:!0})),(t={email:d,password:u},fetch("/api/signin",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?(a(Object(_.a)(Object(_.a)({},n),{},{error:e.error,loading:!1})),Object(o.b)("User Account not found!! Please Signup",{type:"warning"})):function(e,t){void 0!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),t())}(e,(function(){a(Object(_.a)(Object(_.a)({},n),{},{email:"",password:"",error:"",loading:!1,didRedirect:!0}))}))})).catch((function(e){return Object(o.b)("SignIn Failed, Please check your Details",{type:"error"})}))};return Object(O.jsxs)("div",{className:"whole-container auth-section",children:[Object(O.jsxs)("div",{className:"auth-container",children:[Object(O.jsx)("div",{className:"img-div",children:Object(O.jsx)("img",{src:m,alt:"logo"})}),Object(O.jsxs)("h2",{children:["SignIn to"," ",Object(O.jsx)(i.b,{to:"/",className:"title",children:"Clarify"})]}),Object(O.jsx)("div",{className:"auth-card",children:Object(O.jsxs)("form",{className:"auth-form",children:[Object(O.jsxs)("div",{className:"auth-helper",children:[Object(O.jsx)("label",{className:"auth-labels",children:"Email Address"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{value:d,onChange:p("email"),className:"auth-inputs",type:"email",required:!0}),Object(O.jsx)(x.b,{className:"auth-icons"})]}),Object(O.jsxs)("div",{className:"auth-helper",children:[Object(O.jsx)("label",{className:"auth-labels",children:"Password"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{value:u,onChange:p("password"),className:"auth-inputs",type:"password",required:!0}),Object(O.jsx)(T.a,{className:"auth-icons"})]}),Object(O.jsx)("button",{onClick:f,className:"auth-button",children:n.loading?Object(O.jsx)("div",{className:"loading-div",children:Object(O.jsx)(j.Circle,{color:"white",size:25})}):Object(O.jsx)(O.Fragment,{children:"Signin"})})]})}),Object(O.jsxs)("div",{className:"auth-text",children:["New to Clarify?",Object(O.jsxs)("span",{onClick:function(){e("/signup")},className:"auth-span",children:[Object(O.jsx)("span",{style:{opacity:".05"},children:"j"}),"Create an account"]})]})]}),function(){if(h)return e("/");b()&&(console.log("GO GO"),e("/"))}()]})},z=s(60),F=function(){var e=Object(r.g)(),t=Object(c.useState)({name:"",email:"",password:"",collage:"",error:"",success:!1,loading:!1}),s=Object(l.a)(t,2),n=s[0],a=s[1],d=n.name,u=n.email,b=n.password,h=n.collage,p=function(e){return function(t){a(Object(_.a)(Object(_.a)({},n),{},Object(A.a)({error:!1},e,t.target.value)))}},f=function(t){var s;t.preventDefault(),a(Object(_.a)(Object(_.a)({},n),{},{error:!1,loading:!0})),(s={name:d,email:u,password:b,collage:h},fetch("/api/signup",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(t){t.error?(a(Object(_.a)(Object(_.a)({},n),{},{error:t.error,success:!1})),Object(o.b)(t.error,{type:"error"})):(a({name:"",email:"",password:"",error:"",success:!0,loading:!1}),Object(o.b)("Signup Successful!! Please Signin",{type:"success"}),e("/signin"))})).catch((function(e){return console.log("Error in SignUp",e)}))};return Object(O.jsx)("div",{className:"whole-container auth-section",children:Object(O.jsxs)("div",{className:"auth-container",children:[Object(O.jsx)("div",{className:"img-div",children:Object(O.jsx)("img",{src:m,alt:"logo"})}),Object(O.jsxs)("h2",{children:["SignUp to"," ",Object(O.jsx)(i.b,{to:"/",className:"title",children:"Clarify"})]}),Object(O.jsx)("div",{className:"auth-card",children:Object(O.jsxs)("form",{className:"auth-form",children:[Object(O.jsxs)("div",{className:"auth-helper",children:[Object(O.jsx)("label",{className:"auth-labels",children:"Username"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{onChange:p("name"),className:"auth-inputs prfl",type:"text",required:!0,value:d}),Object(O.jsx)(z.a,{className:"auth-icons"})]}),Object(O.jsxs)("div",{className:"auth-helper",children:[Object(O.jsx)("label",{className:"auth-labels",children:"Email Address"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{onChange:p("email"),className:"auth-inputs",type:"email",required:!0,value:u}),Object(O.jsx)(x.b,{className:"auth-icons"})]}),Object(O.jsxs)("div",{className:"auth-helper",children:[Object(O.jsx)("label",{className:"auth-labels",children:"Password"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{onChange:p("password"),className:"auth-inputs",type:"password",required:!0,value:b}),Object(O.jsx)(T.a,{className:"auth-icons"})]}),Object(O.jsxs)("div",{className:"auth-helper",children:[Object(O.jsx)("label",{className:"auth-labels",children:"Collage"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{onChange:p("collage"),className:"auth-inputs",type:"text",required:!0,value:h}),Object(O.jsx)(x.d,{className:"auth-icons"})]}),Object(O.jsx)("button",{onClick:f,className:"auth-button",children:n.loading?Object(O.jsx)("div",{className:"loading-div",children:Object(O.jsx)(j.Circle,{color:"white",size:25})}):Object(O.jsx)(O.Fragment,{children:"SignUp"})})]})}),Object(O.jsxs)("div",{className:"auth-text",children:["Already an User?",Object(O.jsxs)("span",{onClick:function(){e("/signin")},className:"auth-span",children:[Object(O.jsx)("span",{style:{opacity:".05"},children:"j"}),"Signin Here"]})]})]})})},U=s(16),P=function(e,t){return fetch("/api/user/".concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))};function B(){var e=b(),t=e.user,s=e.token,n=Object(c.useState)([]),a=Object(l.a)(n,2),i=a[0],r=a[1],d=Object(c.useState)([]),u=Object(l.a)(d,2),h=u[0],p=u[1],m=Object(c.useState)({}),f=Object(l.a)(m,2),v=f[0],N=f[1],w=Object(c.useState)([]),C=Object(l.a)(w,2),S=C[0],q=C[1],k=Object(c.useState)(!1),A=Object(l.a)(k,2),_=A[0],E=A[1],z=Object(c.useState)(!1),F=Object(l.a)(z,2),B=F[0],J=F[1],Q=Object(c.useState)(-1),L=Object(l.a)(Q,2),R=L[0],I=L[1],D=function(){E(!0),fetch("/api/users",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){e.error?console.log("Error in fetching questions",e.error):(q(e),r(e),P(t._id,s).then((function(t){if(t.error)console.log("user not found!");else if(N(t),t.following.length){var s=[],c=[];e.forEach((function(e){var n=0;t.following.forEach((function(t){t._id===e._id&&(s.push(e),n=1)})),0===n&&c.push(e)})),N(s),q(c),p(s),r(c),E(!1)}else E(!1)})))}))};Object(c.useEffect)((function(){D()}),[]);var G=function(e){var t=e.target.value;console.log(t);var s=S.filter((function(e){return e.name.toLowerCase().includes(t)})),c=v.filter((function(e){return e.name.toLowerCase().includes(t)}));p(c),r(s)},Y=function(e,c,n){t._id!==c._id?(J(!0),I(n),function(e,t,s){return fetch("/api/users/follow/".concat(e,"/").concat(s),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t._id,s,c._id).then((function(e){console.log(e),e.error?console.log("Follow request failed",e.error):(J(!1),I(-1),Object(o.b)("Follow Request successfull!!",{type:"success"}),D())}))):Object(o.b)("You cannot follow yourself",{type:"warning"})},H=function(e,c,n){J(!0),I(n),y(t._id,s,c._id).then((function(e){e.error?console.log("Follow request failed",e.error):(I(-1),J(!1),window.location.reload())}))};return Object(O.jsx)(g,{children:Object(O.jsx)("div",{className:"main-page-container",children:Object(O.jsxs)("div",{className:"content-container",children:[Object(O.jsxs)("div",{className:"content-header",children:[Object(O.jsx)("h2",{children:"All Users"}),Object(O.jsx)("div",{className:"search-div",children:Object(O.jsx)("form",{className:"search-form",children:Object(O.jsx)("label",{className:"search-label",children:Object(O.jsx)("input",{placeholder:"Search User",onChange:G,className:"search-input",type:"text"})})})})]}),Object(O.jsx)("div",{className:"questions-container",children:_?Object(O.jsx)("div",{className:"loading-div",children:Object(O.jsx)(j.Circle,{color:"white",size:100})}):Object(O.jsxs)("div",{children:[h.length?h.map((function(e,t){return Object(O.jsxs)("div",{className:"profile-card user-card",children:[Object(O.jsx)("div",{className:"profile-icon-div",children:Object(O.jsx)(x.f,{className:"profile-icon"})}),Object(O.jsxs)("div",{className:"profile-info",children:[Object(O.jsx)("h1",{className:"user-name",children:e.name}),Object(O.jsxs)("div",{className:"profile-info-div",children:[Object(O.jsxs)("p",{className:"profile-collage",children:["Student at ",e.collage]}),Object(O.jsxs)("p",{children:["Reputation: ",Object(O.jsx)(U.d,{})," ",e.reputation]})]})]}),Object(O.jsx)("div",{className:"profile-button-div",children:Object(O.jsx)("button",{onClick:function(s){return H(0,e,t)},style:{marginRight:"10px"},className:"unfollow-button",children:B&&R===t?Object(O.jsx)("div",{className:"loading-div",children:Object(O.jsx)(j.Circle,{color:"white",size:25})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.b,{style:{marginRight:"5px"}}),"Unfollow"]})})})]},t)})):Object(O.jsx)("div",{}),i.length?i.map((function(e,t){return Object(O.jsxs)("div",{className:"profile-card user-card",children:[Object(O.jsx)("div",{className:"profile-icon-div",children:Object(O.jsx)(x.f,{className:"profile-icon"})}),Object(O.jsxs)("div",{className:"profile-info",children:[Object(O.jsx)("h1",{className:"user-name",children:e.name}),Object(O.jsxs)("div",{className:"profile-info-div",children:[Object(O.jsxs)("p",{className:"profile-collage",children:["Student at ",e.collage]}),Object(O.jsxs)("p",{children:["Reputation: ",Object(O.jsx)(U.d,{})," ",e.reputation]})]})]}),Object(O.jsx)("div",{className:"profile-button-div",children:Object(O.jsx)("button",{onClick:function(s){return Y(0,e,t)},style:{marginRight:"10px"},className:"ask-button profile-button",children:B&&R===t?Object(O.jsx)("div",{className:"loading-div",children:Object(O.jsx)(j.Circle,{color:"white",size:25})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.b,{style:{marginRight:"5px"}}),"Follow"]})})})]},t)})):Object(O.jsx)("div",{})]})})]})})})}function J(){var e=Object(r.g)(),t=Object(c.useState)(!1),s=Object(l.a)(t,2),n=s[0],a=s[1],i=Object(c.useState)([]),o=Object(l.a)(i,2),d=o[0],u=o[1],b=Object(c.useState)([]),h=Object(l.a)(b,2),p=h[0],m=h[1];Object(c.useEffect)((function(){a(!0),N().then((function(e){e.error?console.log("Error in fetching questions",e.error):(u(e),m(e),a(!1))}))}),[]);var x=function(e){var t=e.target.value,s=d.filter((function(e){return e.text.toLowerCase().includes(t)}));m(s)};return Object(O.jsx)(g,{children:Object(O.jsx)("div",{className:"main-page-container",children:Object(O.jsxs)("div",{className:"content-container",children:[Object(O.jsxs)("div",{className:"content-header",children:[Object(O.jsx)("h2",{children:"All Questions"}),Object(O.jsx)("div",{className:"search-div",children:Object(O.jsx)("form",{className:"search-form",children:Object(O.jsx)("label",{className:"search-label",children:Object(O.jsx)("input",{placeholder:"Search Question",onChange:x,className:"search-input",type:"text"})})})})]}),Object(O.jsx)("div",{className:"questions-container",children:n?Object(O.jsx)("div",{className:"loading-div",children:Object(O.jsx)(j.Circle,{color:"white",size:100})}):p.length?p.map((function(t,s){return Object(O.jsxs)("div",{onClick:function(){e("/questions/question",{state:t})},className:"question-card",children:[Object(O.jsxs)("div",{className:"question-status-div",children:[Object(O.jsxs)("div",{className:"question-status",children:[Object(O.jsx)("p",{className:"question-status-number",children:t.upvotes}),Object(O.jsx)("p",{children:"Upvotes"})]}),Object(O.jsxs)("div",{className:"question-status",children:[Object(O.jsx)("p",{className:"question-status-number",children:t.replies.length}),Object(O.jsx)("p",{children:"Answers"})]})]}),Object(O.jsxs)("div",{className:"question-summary",children:[Object(O.jsx)("h2",{children:t.text}),Object(O.jsxs)("p",{className:"question-asked",children:["asked by ",t.user.name]})]})]},s)})):Object(O.jsx)("div",{children:"No Questions Found!!"})})]})})})}var Q=s(118);function L(e){e.edit;var t=e.setEdit,s=e.load,n=b(),a=n.user,i=n.token,j=Object(r.g)(),d=Object(c.useState)({name:"",email:"",password:"",collage:"",error:"",success:!1}),u=Object(l.a)(d,2),h=u[0],p=u[1],m=h.name,f=h.email,v=h.password,g=h.collage,N=function(e){return function(t){p(Object(_.a)(Object(_.a)({},h),{},Object(A.a)({error:!1},e,t.target.value)))}};return Object(O.jsx)("div",{className:"edit-profile-container",children:Object(O.jsxs)("div",{className:"auth-card",children:[Object(O.jsx)("h1",{children:"Edit Profile"}),Object(O.jsxs)("form",{className:"auth-form",children:[Object(O.jsxs)("div",{className:"auth-wrapper",children:[Object(O.jsxs)("div",{className:"auth-helper",children:[Object(O.jsx)("label",{className:"auth-labels",children:"Username"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{onChange:N("name"),className:"auth-inputs prfl",type:"text",required:!0,value:m}),Object(O.jsx)(z.a,{className:"auth-icons"})]}),Object(O.jsxs)("div",{className:"auth-helper",children:[Object(O.jsx)("label",{className:"auth-labels",children:"Collage"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{onChange:N("collage"),className:"auth-inputs",type:"text",required:!0,value:g}),Object(O.jsx)(x.d,{className:"auth-icons"})]})]}),Object(O.jsxs)("div",{className:"auth-wrapper",children:[Object(O.jsxs)("div",{className:"auth-helper",children:[Object(O.jsx)("label",{className:"auth-labels",children:"Email Address"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{onChange:N("email"),className:"auth-inputs",type:"email",required:!0,value:f}),Object(O.jsx)(x.b,{className:"auth-icons"})]}),Object(O.jsxs)("div",{className:"auth-helper",children:[Object(O.jsx)("label",{className:"auth-labels",children:"Password"}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{onChange:N("password"),className:"auth-inputs",type:"password",required:!0,value:v}),Object(O.jsx)(T.a,{className:"auth-icons"})]})]}),Object(O.jsxs)("div",{className:"edit-profile-buttons",children:[Object(O.jsx)("button",{onClick:function(){return t(0)},className:"cancel-auth-button",children:"Cancel"}),Object(O.jsx)("button",{onClick:function(e){e.preventDefault(),p(Object(_.a)(Object(_.a)({},h),{},{error:!1})),function(e,t,s){return fetch("/api/user/update/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(a._id,i,{name:m,email:f,password:v,collage:g}).then((function(e){e.error?(p(Object(_.a)(Object(_.a)({},h),{},{error:e.error,success:!1})),Object(o.b)(e.error,{type:"error"})):(Object(o.b)("Profile Updated successfullly!!",{type:"success"}),t(0),s(),j("/user/profile"))})).catch((function(e){return console.log("Error in updation",e)}))},className:"auth-button",children:"Save"})]})]})]})})}function R(){var e=Object(r.g)(),t=Object(c.useState)({name:"",collage:"",reputation:"",followers:[],following:[],title:""}),s=Object(l.a)(t,2),n=s[0],a=s[1],i=Object(c.useState)(0),o=Object(l.a)(i,2),d=o[0],u=o[1],h=Object(c.useState)([]),p=Object(l.a)(h,2),m=p[0],f=p[1],v=Object(c.useState)(!1),N=Object(l.a)(v,2),y=N[0],w=N[1],C=b(),S=C.user,q=C.token,k=function(){w(!0),P(S._id,q).then((function(e){e.error?console.log("Cannot Get User",e.error):a(Object(_.a)(Object(_.a)({},n),{},{name:e.name,collage:e.collage,reputation:e.reputation,followers:e.followers,following:e.following})),function(e,t){return fetch("/api/user/activity/".concat(e),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(S._id,q).then((function(e){e.error?console.log("Cannot get activity of this user",e.error):(f(e),w(!1))}))}))};console.log(m),Object(c.useEffect)((function(){k()}),[]);return Object(O.jsx)(g,{children:Object(O.jsx)("div",{className:"main-page-container",children:Object(O.jsx)("div",{className:"profile-container",children:y?Object(O.jsx)("div",{className:"loading-div",children:Object(O.jsx)(j.Circle,{color:"white",size:100})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"profile-card",children:[Object(O.jsx)("div",{className:"profile-icon-div",children:Object(O.jsx)(x.f,{className:"profile-icon"})}),Object(O.jsxs)("div",{className:"profile-info",children:[Object(O.jsx)("h1",{className:"profile-name",children:n.name}),Object(O.jsxs)("p",{className:"profile-collage",children:["Student at ",n.collage]})]}),Object(O.jsx)("div",{className:"profile-button-div",children:Object(O.jsxs)("button",{onClick:function(){return u(1)},className:"ask-button profile-button",children:[Object(O.jsx)(Q.a,{style:{marginRight:"5px"}}),"Edit Profile"]})})]}),d?Object(O.jsx)(L,{edit:d,setEdit:u,load:k}):Object(O.jsx)("div",{}),Object(O.jsxs)("div",{className:"profile-summary-container",children:[Object(O.jsxs)("div",{className:"profile-summary-left",children:[Object(O.jsx)("h2",{className:"summary-text",children:"Summary"}),Object(O.jsxs)("div",{className:"profile-stats",children:[Object(O.jsx)("h2",{children:"Stats"}),Object(O.jsxs)("div",{className:"profile-stats-info",children:[Object(O.jsxs)("div",{className:"profile-stat",children:[Object(O.jsx)("p",{className:"profile-stat-number",children:"7"}),Object(O.jsx)("p",{style:{margin:"0"},children:"questions"})]}),Object(O.jsxs)("div",{className:"profile-stat",children:[Object(O.jsx)("p",{className:"profile-stat-number",children:"0"}),Object(O.jsx)("p",{style:{margin:"0"},children:"answers"})]})]}),Object(O.jsx)("div",{className:"profile-reputation",children:Object(O.jsxs)("div",{className:"profile-stat",children:[Object(O.jsx)("p",{className:"profile-stat-number",children:n.reputation}),Object(O.jsx)("p",{style:{margin:"0"},children:"Reputation"})]})})]}),Object(O.jsxs)("div",{className:"profile-followers",children:[Object(O.jsxs)("div",{className:"p-followers",children:[Object(O.jsx)("p",{className:"profile-link",onClick:function(){n.title="Followers",a(n),e("/user/followers",{state:n})},children:"Followers"}),Object(O.jsx)("p",{className:"p-followers-number",children:n.followers.length})]}),Object(O.jsxs)("div",{className:"p-followers",children:[Object(O.jsxs)("p",{className:"profile-link",onClick:function(){n.title="Following",a(n),e("/user/following",{state:n})},children:["Following"," "]}),Object(O.jsx)("p",{className:"p-followers-number",children:n.following.length})]})]})]}),Object(O.jsxs)("div",{className:"questions-container profile-summary-right",children:[Object(O.jsx)("h2",{className:"activity-name",children:"Your Activity"}),m.length?m.map((function(t,s){return Object(O.jsxs)("div",{onClick:function(){e("/questions/question",{state:t.question})},className:"question-card activity-card",children:[Object(O.jsxs)("div",{className:"activity-status-div",children:[Object(O.jsx)("div",{className:"activity-status",children:Object(O.jsx)("p",{children:t.status})}),Object(O.jsxs)("div",{className:"question-status",children:[Object(O.jsx)("p",{className:"question-status-number",children:t.question.upvotes}),Object(O.jsx)("p",{children:"Upvotes"})]})]}),Object(O.jsx)("div",{className:"question-summary",children:Object(O.jsx)("h2",{children:t.question.text})})]},s)})):Object(O.jsx)("div",{children:"No Activity Found!!"})]})]})]})})})})}var I=function(e){var t=e.children;return b()?t:Object(O.jsx)(r.a,{to:"/signin"})},D=s(33),G=s(30),Y=s(34),H=s.n(Y),M=s(10);s(59);function W(){var e=b(),t=e.user,s=e.token,n=Object(r.g)(),a=Object(c.useState)(M.EditorState.createEmpty()),i=Object(l.a)(a,2),j=i[0],d=i[1],u=Object(c.useState)({text:"",description:""}),h=Object(l.a)(u,2),p=h[0],m=h[1],x=Object(c.useState)(null),f=Object(l.a)(x,2),v=f[0],N=f[1],y=function(e){d(e),w()},w=function(){var e=Object(G.a)(j.getCurrentContent());N(e)},C=function(e){m(Object(_.a)(Object(_.a)({},p),{},{text:e.target.value}))},S=function(){var e,c=JSON.stringify((e=v,{__html:H.a.sanitize(e)}));p.description=c,m(p),console.log(p),function(e,t,s){return fetch("/api/askQuestion/".concat(e),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t._id,s,p).then((function(e){e.error?console.log("Posting your question failed",e.error):(Object(o.b)("Question posted succesfully!!",{type:"success"}),n("/"))}))};return Object(O.jsx)(g,{children:Object(O.jsxs)("div",{className:"questions-container editor-helper",children:[Object(O.jsx)("h1",{children:"Ask Your Question"}),Object(O.jsxs)("div",{className:"editor-container",children:[Object(O.jsxs)("div",{className:"editor-title",children:[Object(O.jsx)("h2",{children:"Title"}),Object(O.jsx)("p",{children:"Be specific with your question and not more than 20 words"}),Object(O.jsx)("input",{value:p.text,onChange:C,className:"search-input editor-title-input",type:"text"})]}),Object(O.jsxs)("div",{className:"editor-body",children:[Object(O.jsx)("h2",{children:"Description"}),Object(O.jsx)("p",{className:"editor-body-p",children:"Add more details to your question, feel free to left it blank if you don't have any."}),Object(O.jsx)("p",{className:"editor-body-p",children:"Description may contain explanation of your question, sample code, error messages if any and any information about the question if you want to share"}),Object(O.jsx)("div",{className:"editor-wrapper",children:Object(O.jsx)(D.Editor,{editorState:j,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:y})}),Object(O.jsx)("p",{children:"We would recommend to review your question before posting"}),Object(O.jsx)("button",{onClick:S,className:"ask-button",children:"Post Question"})]})]})]})})}function K(e){var t=e.question,s=b(),n=s.user,a=s.token,i=Object(r.g)(),j=Object(c.useState)(M.EditorState.createEmpty()),d=Object(l.a)(j,2),u=d[0],h=d[1],p=Object(c.useState)(""),m=Object(l.a)(p,2),x=m[0],f=m[1],v=Object(c.useState)(null),g=Object(l.a)(v,2),N=g[0],y=g[1],w=function(e){h(e),C()},C=function(){var e=Object(G.a)(u.getCurrentContent());y(e)},S=function(){var e,s=JSON.stringify((e=N,{__html:H.a.sanitize(e)}));f(s),console.log(x),function(e,t,s,c){return fetch("/api/questions/answer/".concat(e,"/").concat(c),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(n._id,a,{text:s},t._id).then((function(e){e.error?console.log("Posting your answer failed",e.error):(Object(o.b)("Answer posted succesfully!!",{type:"success"}),i("/"))}))};return Object(O.jsx)("div",{children:Object(O.jsx)("div",{className:"questions-container editor-helper",children:Object(O.jsxs)("div",{className:"editor-body",children:[Object(O.jsx)("div",{className:"editor-wrapper",children:Object(O.jsx)(D.Editor,{editorState:u,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:w})}),Object(O.jsx)("button",{style:{marginTop:"1rem",float:"right"},onClick:S,className:"ask-button",children:"Post Answer"})]})})})}function V(){var e=Object(r.f)(),t=Object(r.g)(),s=Object(c.useState)(0),n=Object(l.a)(s,2),a=n[0],i=n[1],d=Object(c.useState)(!1),u=Object(l.a)(d,2),h=u[0],p=u[1],m=Object(c.useState)(!1),f=Object(l.a)(m,2),v=f[0],N=f[1],y=Object(c.useState)(!1),k=Object(l.a)(y,2),A=k[0],_=k[1],T=Object(c.useState)(-1),E=Object(l.a)(T,2),z=E[0],F=E[1],P=Object(c.useState)(0),B=Object(l.a)(P,2),J=B[0],Q=B[1],L=b(),R=L.user,I=L.token,D=Object(c.useState)({text:"",description:"",upvotes:0,replies:[]}),G=Object(l.a)(D,2),Y=G[0],H=G[1],M=Object(c.useState)(0),W=Object(l.a)(M,2),V=W[0],X=W[1],Z=Object(c.useState)(0),$=Object(l.a)(Z,2),ee=$[0],te=$[1],se=function(){var t;p(!0),(t=e.state._id,fetch("/api/questions/question/".concat(t),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))).then((function(e){e.error?console.log("Question Not Found",e.error):(H(e),p(!1))}))};Object(c.useEffect)((function(){se()}),[]);var ce=function(e){R._id!==Y.user._id?(N(!0),0===V?S(R._id,I,Y).then((function(e){e.error?(Object(o.b)(e.error,{type:"warning"}),console.log("Like not updated",e.error)):(H(e),0===V?(X(1),te(0)):X(0)),N(!1)})):q(R._id,I,Y).then((function(e){e.error?(console.log("Like not updated",e.error),Object(o.b)(e.error,{type:"warning"})):(H(e),0===V?(X(1),te(0)):X(0)),N(!1)}))):Object(o.b)("You cannot upvote your own Post",{type:"warning"})},ne=function(e){R._id!==Y.user._id?(N(!0),0===ee?q(R._id,I,Y).then((function(e){e.error?(Object(o.b)(e.error,{type:"warning"}),console.log("Like not updated",e.error)):(H(e),0===ee?(te(1),X(0)):te(0)),N(!1)})):S(R._id,I,Y).then((function(e){e.error?(Object(o.b)(e.error,{type:"warning"}),console.log("Like not updated",e.error)):(H(e),0===ee?(te(1),X(0)):te(0)),N(!1)}))):Object(o.b)("You cannot downvote your own Post",{type:"warning"})},ae=function(){(function(e,t,s){return fetch("/api/askQuestion/delete/".concat(e,"/").concat(s),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(R._id,I,Y._id).then((function(e){e.error?(Object(o.b)(e.error,{type:"warning"}),console.log(e.error)):t("/")}))},ie=function(e){(function(e,t,s){return fetch("/api/questions/answer/delete/".concat(e,"/").concat(s),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(R._id,I,e._id).then((function(e){e.error?console.log(e.error):(Object(o.b)("Answer Deleted Successfully",{type:"successs"}),t("/"))}))};return Object(O.jsx)(g,{children:h?Object(O.jsx)("div",{style:{textAlign:"center"},className:"loading-div",children:Object(O.jsx)(j.Circle,{color:"white",size:100})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("div",{className:"questions-container",children:Object(O.jsxs)("div",{className:"q-card",children:[Object(O.jsxs)("div",{className:"q-title",children:[Object(O.jsxs)("div",{className:"q-wrapper",children:[Object(O.jsxs)("div",{className:"q-status",children:[Object(O.jsx)(U.c,{style:{color:0===V?"white":"#1f6feb"},onClick:ce,className:"q-like"}),v?Object(O.jsx)("div",{className:"loading-div",children:Object(O.jsx)(j.Circle,{color:"white",size:30})}):Object(O.jsx)("h2",{children:Y.upvotes}),Object(O.jsx)(U.b,{style:{color:0===ee?"white":"#1f6feb"},onClick:ne,className:"q-like"})]}),Object(O.jsx)("div",{className:"q-text",children:Object(O.jsx)("h1",{children:Y.text})})]}),Object(O.jsxs)("div",{className:"q-asked",children:[Object(O.jsx)("p",{className:"q-asked-title",children:"Asked by"}),Object(O.jsxs)("div",{className:"q-asked-user",children:[Object(O.jsx)(x.f,{className:"q-asked-icon"}),Object(O.jsx)("p",{children:Y.user&&Y.user.name})]}),Object(O.jsxs)("p",{children:[Object(O.jsx)(U.d,{className:"q-asked-icon"})," ",Y.user&&Y.user.reputation]}),Object(O.jsxs)("div",{className:"q-icons-div",children:[Object(O.jsx)(x.a,{className:"q-icon",onClick:function(){R._id===Y.user._id?t("/question/update",{state:Y}):Object(o.b)("You cannot edit this question",{type:"warning"})}}),Object(O.jsx)(U.a,{className:"q-icon",onClick:ae})]})]})]}),Object(O.jsx)("div",{className:"q-description",children:Object(O.jsx)("div",{dangerouslySetInnerHTML:Y.description?JSON.parse(Y.description):{__html:"<p></p>"}})})]})}),Object(O.jsxs)("div",{className:"middle-helper",children:[Object(O.jsxs)("h2",{children:[Y.replies&&Y.replies.length," Answer",Object(O.jsx)("span",{style:{display:Y.replies&&1===Y.replies.length?"none":"visible"},children:"s"})]}),Object(O.jsx)("div",{children:Object(O.jsx)("button",{onClick:function(){return i(1)},className:"ask-button",children:"Answer"})})]}),a?Object(O.jsxs)("div",{style:{width:"100%"},children:[Object(O.jsx)(K,{question:Y}),Object(O.jsx)("button",{style:{marginLeft:"2rem"},onClick:function(){return i(0)},className:"cancel-button",children:"Cancel"})]}):Object(O.jsx)(O.Fragment,{}),Object(O.jsx)("div",{className:"questions-container",children:Object(O.jsx)("div",{children:Y.replies&&Y.replies.length>0&&Y.replies.map((function(e,s){return Object(O.jsx)("div",{className:"q-card",children:Object(O.jsxs)("div",{className:"q-title",children:[Object(O.jsxs)("div",{className:"q-status",children:[Object(O.jsx)(U.c,{style:{color:"white"},onClick:function(t){return function(e,t,s){R._id!==t.user._id?(_(!0),F(s),console.log(e.currentTarget.style),"rgb(31, 111, 235)"===e.currentTarget.style.color?(e.currentTarget.style.color="white",C(R._id,I,t).then((function(e){e.error?(Object(o.b)(e.error,{type:"warning"}),console.log("Answer upvote not updated",e.error)):(console.log("sucess"),Q(0===J?1:0),se()),_(!1),F(-1)}))):(e.currentTarget.style.color="rgb(31, 111, 235)",w(R._id,I,t).then((function(e){e.error?(Object(o.b)(e.error,{type:"warning"}),console.log("Answer upvote not updated",e.error)):(console.log("sucess"),Q(0===J?1:0),se()),_(!1),F(-1)})))):Object(o.b)("You cannot downvote your own Post",{type:"warning"})}(t,e,s)},className:"q-like"}),A&&z===s?Object(O.jsx)("div",{className:"loading-div",children:Object(O.jsx)(j.Circle,{color:"white",size:30})}):Object(O.jsx)("h2",{children:e.upvotes}),Object(O.jsx)(U.b,{style:{color:"white"},onClick:function(t){return function(e,t,s){R._id!==t.user._id?(_(!0),F(s),console.log(e.currentTarget.style),"rgb(31, 111, 235)"===e.currentTarget.style.color?(e.currentTarget.style.color="white",w(R._id,I,t).then((function(e){e.error?(Object(o.b)(e.error,{type:"warning"}),console.log("Answer upvote not updated",e.error)):(console.log("sucess"),Q(0===J?1:0),se()),_(!1),F(-1)}))):(e.currentTarget.style.color="rgb(31, 111, 235)",C(R._id,I,t).then((function(e){e.error?(Object(o.b)(e.error,{type:"warning"}),console.log("Answer upvote not updated",e.error)):(console.log("sucess"),Q(0===J?1:0),se()),_(!1),F(-1)})))):Object(o.b)("You cannot downvote your own Post",{type:"warning"})}(t,e,s)},className:"q-like"})]}),Object(O.jsx)("div",{className:"a-text",children:Object(O.jsx)("div",{dangerouslySetInnerHTML:JSON.parse(e.text)})}),Object(O.jsxs)("div",{className:"a-asked",children:[Object(O.jsx)("p",{className:"q-asked-title",children:"Answered by"}),Object(O.jsxs)("div",{className:"a-asked-user",children:[Object(O.jsx)(x.f,{className:"q-asked-icon"}),Object(O.jsx)("p",{children:e.user&&e.user.name})]}),Object(O.jsxs)("p",{children:[Object(O.jsx)(U.d,{className:"q-asked-icon"})," ",e.user&&e.user.reputation]}),Object(O.jsxs)("div",{className:"q-icons-div",children:[Object(O.jsx)(x.a,{onClick:function(){R._id===e.user._id?t("/answer/update",{state:e}):Object(o.b)("You cannot Edit this answer",{type:"warning"})},className:"q-icon"}),Object(O.jsx)(U.a,{onClick:function(){return ie(e)},className:"q-icon"})]})]})]})},s)}))})})]})})}function X(){var e=Object(r.g)(),t=Object(r.f)(),s=b(),n=s.user,a=s.token,i=Object(c.useState)([]),o=Object(l.a)(i,2),d=o[0],u=o[1],h=Object(c.useState)([]),p=Object(l.a)(h,2),m=p[0],f=p[1],v=Object(c.useState)(!1),N=Object(l.a)(v,2),w=N[0],C=N[1],S=Object(c.useState)(!1),q=Object(l.a)(S,2),k=q[0],A=q[1],_=Object(c.useState)(-1),E=Object(l.a)(_,2),z=E[0],F=E[1],B=function(){C(!0),P(n._id,a,t.state._id).then((function(e){if(e.error)console.log("getting user failed!!",e.error);else{var s;console.log(e),s="Followers"===t.state.title?e.followers:e.following,console.log(s);var c=[];s.length?s.map((function(e,t){return function(e,t,s){return fetch("/api/user/".concat(e,"/").concat(s),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(n._id,a,e._id).then((function(e){e.error?console.log(e.error):(console.log(e),c.push(e),t===s.length-1&&(u(c),f(c),C(!1)))}))})):C(!1)}}))};Object(c.useEffect)((function(){B()}),[]);var J=function(e){var t=e.target.value,s=d.filter((function(e){return e.name.toLowerCase().includes(t)}));f(s)},Q=function(e,t,s){A(!0),F(s),y(n._id,a,t._id).then((function(e){e.error?console.log("Follow request failed",e.error):(A(!1),F(-1),window.location.reload())}))};return Object(O.jsx)(g,{children:Object(O.jsx)("div",{className:"main-page-container",children:Object(O.jsxs)("div",{className:"follower-container content-container",children:[Object(O.jsxs)("div",{className:"content-header",children:[Object(O.jsx)("h2",{children:t.state.title}),Object(O.jsx)("div",{className:"search-div",children:Object(O.jsx)("form",{className:"search-form",children:Object(O.jsx)("label",{className:"search-label",children:Object(O.jsx)("input",{placeholder:"Search User",onChange:J,className:"search-input",type:"text"})})})})]}),Object(O.jsx)("div",{className:"questions-container",children:w?Object(O.jsx)("div",{className:"loading-div",children:Object(O.jsx)(j.Circle,{color:"white",size:100})}):m.length?m.map((function(e,s){return Object(O.jsxs)("div",{className:"profile-card user-card",children:[Object(O.jsx)("div",{className:"profile-icon-div",children:Object(O.jsx)(x.f,{className:"profile-icon"})}),Object(O.jsxs)("div",{className:"profile-info",children:[Object(O.jsx)("h1",{style:{textAlign:"left"},className:"user-name",children:e.name}),Object(O.jsxs)("div",{className:"profile-info-div",children:[Object(O.jsxs)("p",{className:"profile-collage",children:["Student at ",e.collage]}),Object(O.jsxs)("p",{children:["Reputation: ",Object(O.jsx)(U.d,{})," ",e.reputation]})]})]}),"Following"===t.state.title?Object(O.jsx)("div",{className:"profile-button-div",children:Object(O.jsx)("button",{onClick:function(t){return Q(0,e,s)},style:{marginRight:"10px"},className:"unfollow-button",children:k&&z===s?Object(O.jsx)("div",{className:"loading-div",children:Object(O.jsx)(j.Circle,{color:"white",size:25})}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(T.b,{style:{marginRight:"5px"}}),"Unfollow"]})})}):Object(O.jsx)("div",{})]},s)})):Object(O.jsx)("div",{children:"No Followers Found"})}),Object(O.jsx)("button",{style:{alignSelf:"center"},className:"ask-button",onClick:function(){e("/user/profile")},children:"Go to Profile"})]})})})}function Z(){var e=Object(r.f)();console.log(e);var t=b(),s=t.user,n=t.token,a=Object(r.g)(),i=Object(c.useState)(M.EditorState.createEmpty()),j=Object(l.a)(i,2),d=j[0],u=j[1],h=Object(c.useState)({_id:e.state._id,text:e.state.text,description:e.state.description,user:e.state.user,replies:e.state.replies,upvotes:e.state.upvotes}),p=Object(l.a)(h,2),m=p[0],x=p[1],f=Object(c.useState)(null),v=Object(l.a)(f,2),N=v[0],y=v[1],w=function(e){u(e),C()},C=function(){var e=Object(G.a)(d.getCurrentContent());y(e)},S=function(e){x(Object(_.a)(Object(_.a)({},m),{},{text:e.target.value}))},q=function(){var e,t=JSON.stringify((e=N,{__html:H.a.sanitize(e)}));m.description=t,x(m),console.log(m),function(e,t,s){return fetch("/api/askQuestion/update/".concat(e,"/").concat(s._id),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(s._id,n,m).then((function(e){e.error?console.log("Failed to edit your question",e.error):(Object(o.b)("Question Updated succesfully!!",{type:"success"}),a("/questions/question"))}))};console.log(m);return Object(O.jsx)(g,{children:Object(O.jsxs)("div",{className:"questions-container editor-helper",children:[Object(O.jsx)("h1",{children:"Edit Your Question"}),Object(O.jsxs)("div",{className:"editor-container",children:[Object(O.jsxs)("div",{className:"editor-title",children:[Object(O.jsx)("h2",{children:"Title"}),Object(O.jsx)("p",{children:"Be specific with your question and not more than 20 words"}),Object(O.jsx)("input",{value:m.text,onChange:S,className:"search-input editor-title-input",type:"text"})]}),Object(O.jsxs)("div",{className:"editor-body",children:[Object(O.jsx)("h2",{children:"Description"}),Object(O.jsx)("p",{className:"editor-body-p",children:"Add more details to your question, feel free to left it blank if you don't have any."}),Object(O.jsx)("p",{className:"editor-body-p",children:"Description may contain explanation of your question, sample code, error messages if any and any information about the question if you want to share"}),Object(O.jsx)("div",{className:"editor-wrapper",children:Object(O.jsx)(D.Editor,{editorState:d,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:w})}),Object(O.jsx)("p",{children:"We would recommend to review your question before posting"}),Object(O.jsx)("button",{onClick:q,className:"ask-button",children:"Update Question"})]})]})]})})}function $(){var e=b(),t=e.user,s=e.token,n=Object(r.g)(),a=Object(r.f)();console.log(a);var i=Object(c.useState)(null),j=Object(l.a)(i,2),d=j[0],u=j[1],h=Object(c.useState)({_id:a.state._id,text:a.state.text}),p=Object(l.a)(h,2),m=p[0],x=p[1];Object(c.useEffect)((function(){var e=Object(M.convertFromHTML)(JSON.parse(a.state.text).__html),t=M.ContentState.createFromBlockArray(e.contentBlocks,e.entityMap);u(M.EditorState.createWithContent(t))}),[]),console.log(d&&Object(G.a)(d.getCurrentContent()));var f=Object(c.useState)(null),v=Object(l.a)(f,2),N=v[0],y=v[1],w=function(e){u(e),C()},C=function(){var e=Object(G.a)(d.getCurrentContent());y(e)},S=function(){var e,c=JSON.stringify((e=N,{__html:H.a.sanitize(e)}));x(c),console.log(m),function(e,t,s,c){return fetch("/api/questions/answer/update/".concat(e,"/").concat(c),{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(s)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(t._id,s,{text:c},a.state._id).then((function(e){e.error?console.log("Updating your answer failed",e.error):(Object(o.b)("Answer updated succesfully!!",{type:"success"}),n("/"))}))};return Object(O.jsx)(g,{children:Object(O.jsxs)("div",{className:"update-answer-container",children:[Object(O.jsx)("h1",{children:"Edit Your Answer"}),Object(O.jsx)("div",{className:"questions-container editor-helper",children:Object(O.jsxs)("div",{className:"editor-body",children:[Object(O.jsx)("div",{className:"editor-wrapper",children:Object(O.jsx)(D.Editor,{initialContentState:d,editorState:d,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:w})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{onClick:function(){return n("/questions")},style:{marginTop:"1rem"},className:"cancel-button",children:"Back"}),Object(O.jsx)("button",{style:{marginTop:"1rem",float:"right"},onClick:S,className:"ask-button",children:"Update Answer"})]})]})})]})})}function ee(){var e=Object(r.g)();return Object(O.jsxs)("div",{children:[Object(O.jsx)(p,{}),Object(O.jsx)("div",{className:"whole-container about-container",children:Object(O.jsxs)("div",{className:"about-section",children:[Object(O.jsxs)("h1",{children:["Where The Students"," ",Object(O.jsx)("span",{onClick:function(){return e("/")},className:"about-span",children:"Clarify"})," ","Their Doubts"]}),Object(O.jsx)("p",{className:"welcome",children:"Welcome!! "}),Object(O.jsx)("p",{className:"about-description",children:"Iam Srinivas Teja, A pre-final year student from NIT Raipur. Clarify starts with an idea to help students. Students can post their queries, anything that can be related to whether its acedemic, programming, development, or it may be non-acedemic about collages etc. Anyone can answer to the questions that are posted by the others, And I believe sharing knowledge is the best thing that we can do. My motive is to provide a platform for all these type of questions that I think every student felt and needs. There may be many sources for answers, but the perspective of our fellow student is what makes this different."}),Object(O.jsxs)("p",{className:"about-description",children:["Lets"," ",Object(O.jsx)("span",{onClick:function(){return e("/")},className:"about-span",children:"Clarify"})," ","Ourselves!!"]})]})}),Object(O.jsx)(f,{})]})}function te(){return Object(O.jsxs)(i.a,{children:[Object(O.jsx)(o.a,{theme:"dark"}),Object(O.jsxs)(r.d,{children:[Object(O.jsx)(r.b,{exact:!0,path:"/",element:Object(O.jsx)(k,{})}),Object(O.jsx)(r.b,{exact:!0,path:"/signup",element:Object(O.jsx)(F,{})}),Object(O.jsx)(r.b,{exact:!0,path:"/signin",element:Object(O.jsx)(E,{})}),Object(O.jsx)(r.b,{exact:!0,path:"/questions",element:Object(O.jsx)(J,{})}),Object(O.jsx)(r.b,{exact:!0,path:"/about",element:Object(O.jsx)(ee,{})}),Object(O.jsx)(r.b,{exact:!0,path:"/users",element:Object(O.jsx)(I,{children:Object(O.jsx)(B,{})})}),Object(O.jsx)(r.b,{path:"/user/profile",element:Object(O.jsx)(I,{children:Object(O.jsx)(R,{})})}),Object(O.jsx)(r.b,{path:"/user/askQuestion",element:Object(O.jsx)(I,{children:Object(O.jsx)(W,{})})}),Object(O.jsx)(r.b,{path:"/questions/question",element:Object(O.jsx)(I,{children:Object(O.jsx)(V,{})})}),Object(O.jsx)(r.b,{path:"/user/followers",element:Object(O.jsx)(I,{children:Object(O.jsx)(X,{})})}),Object(O.jsx)(r.b,{path:"/user/following",element:Object(O.jsx)(I,{children:Object(O.jsx)(X,{})})}),Object(O.jsx)(r.b,{path:"/user/editprofile",element:Object(O.jsx)(I,{children:Object(O.jsx)(L,{})})}),Object(O.jsx)(r.b,{path:"/question/update",element:Object(O.jsx)(I,{children:Object(O.jsx)(Z,{})})}),Object(O.jsx)(r.b,{path:"/answer/update",element:Object(O.jsx)(I,{children:Object(O.jsx)($,{})})})]})]})}s(276).config(),a.a.render(Object(O.jsx)(te,{}),document.getElementById("root"))}},[[279,1,2]]]);
//# sourceMappingURL=main.1d0bc446.chunk.js.map